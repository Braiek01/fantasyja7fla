<link rel="stylesheet" href="https://unpkg.com/primeflex@latest/primeflex.css">  
<link rel="stylesheet" href="https://unpkg.com/primeicons@latest/primeicons.css"> 

<div class="pitch-container flex align-items-center justify-content-center h-full w-full p-2 md:p-3 lg:p-4">
  <div class="pitch relative w-full h-full max-w-full max-h-full">
    <!-- Pitch markings -->
    <div class="pitch-lines absolute w-full h-full">
      <!-- Center circle -->
      <div class="center-circle absolute border-2 border-white-alpha-40 border-round-3xl"
           style="width: 6rem; height: 6rem; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
      <!-- Center line -->
      <div class="center-line absolute w-full bg-white-alpha-40"
           style="height: 2px; top: 50%; left: 0;"></div>
      <!-- Penalty areas -->
      <div class="penalty-area penalty-area-top absolute border-2 border-white-alpha-40 border-bottom-none"
           style="width: 11rem; height: 4.5rem; top: 0; left: 50%; transform: translateX(-50%);"></div>
      <div class="penalty-area penalty-area-bottom absolute border-2 border-white-alpha-40 border-top-none"
           style="width: 11rem; height: 4.5rem; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
      <!-- Goal areas -->
      <div class="goal-area goal-area-top absolute border-2 border-white-alpha-40 border-bottom-none"
           style="width: 5rem; height: 2rem; top: 0; left: 50%; transform: translateX(-50%);"></div>
      <div class="goal-area goal-area-bottom absolute border-2 border-white-alpha-40 border-top-none"
           style="width: 5rem; height: 2rem; bottom: 0; left: 50%; transform: translateX(-50%);"></div>
    </div>

    <!-- All Player positions with proper z-index classes -->
    <app-player-slot 
      *ngFor="let player of getAllPlayers()"
      [position]="player.position"
      [positionId]="player.positionId"
      [player]="getPlayerForPosition(player.positionId)"
      [style.top.%]="player.top"
      [style.left.%]="player.left"
      [class]="getPositionClass(player.position)"
      class="player-position absolute"
      (slotClicked)="onSlotClicked($event.position, $event.positionId)">
    </app-player-slot>
  </div>
</div>

<!-- Player Selection Modal -->
<app-player-selection-modal
  [(visible)]="showPlayerModal"
  [position]="selectedPosition"
  (playerSelected)="onPlayerSelected($event)">
</app-player-selection-modal>
